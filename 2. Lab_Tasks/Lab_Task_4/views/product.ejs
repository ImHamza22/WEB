<!-- <title><%= product.name %> | Product Details</title> -->
<style>
    .product-detail-img {
        border-radius: 10px;
        max-height: 500px;
        object-fit: cover;
    }
</style>
<div class="container mt-5 min-vh-100">
    <div class="row">
        <!-- Image -->
        <div class="col-md-6">
            <img src="/images/products/<%= product.image %>" alt="<%= product.name %>" class="img-fluid product-detail-img">
        </div>

        <!-- Details -->
        <div class="col-md-6">
            <h2>
                <%= product.name %>
            </h2>
            <p class="text-muted">Category: <%= product.category %>
            </p>
            <p>
                <%= product.description %>
            </p>
            <h4 class="text-primary">$<%= product.price %>
            </h4>

            <form method="POST" action="/product/add-to-cart">
                <input type="hidden" name="productId" value="<%= product._id %>">

                <div class="mb-3">
                    <label for="quantity" class="form-label">Quantity</label>
                    <input type="number" id="quantity" name="quantity" class="form-control" min="1"
                        max="<%= product.stock %>" value="1" required>
                </div>

                <% if (product.stock> 0) { %>
                    <button type="submit" class="btn btn-success">Add to Cart</button>
                    <% } else { %>
                        <button type="button" class="btn btn-secondary" disabled>Out of Stock</button>
                        <% } %>
            </form>

            <p class="mt-3 text-muted">Available Stock: <%= product.stock %>
            </p>
        </div>
    </div>
</div>